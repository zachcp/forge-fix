{"id":"forge-fix-962","title":"Migrate colorama to recipe v1","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T11:22:27.403953-05:00","updated_at":"2025-11-29T11:23:00.541424-05:00","closed_at":"2025-11-29T11:23:00.541449-05:00","labels":["migration","noarch","python","success"],"comments":[{"id":1,"issue_id":"forge-fix-962","author":"zcpowers","text":"Package info:\n- Type: Pure Python (noarch)\n- Build system: hatchling\n- Version: 0.4.6\n- Feedstock: https://github.com/conda-forge/colorama-feedstock\n- Complexity: LOW - excellent template for simple Python packages","created_at":"2025-11-29T16:22:35Z"},{"id":2,"issue_id":"forge-fix-962","author":"zcpowers","text":"✓ Cloned feedstock to packages/colorama-feedstock\n✓ Created recipe-v1 branch\n✓ Created recipe.yaml with CEP 13/14 format:\n  - Added schema_version: 1\n  - Created context section\n  - Changed {{ }} to ${{ }}\n  - Converted tests to new format with python element\n  - Updated about section field names","created_at":"2025-11-29T16:22:41Z"},{"id":3,"issue_id":"forge-fix-962","author":"zcpowers","text":"✓ Build SUCCESSFUL with rattler-build\nPackage: colorama-0.4.6-pyh4616a5c_1.conda\nSize: 27.18 KiB\nBuild time: ~31 seconds\n\n✓ Tests PASSED:\n  - Python imports: colorama\n  - pip check: passed","created_at":"2025-11-29T16:22:45Z"},{"id":4,"issue_id":"forge-fix-962","author":"zcpowers","text":"Lessons learned:\n- Pure Python noarch packages are easiest to migrate\n- No issues with hatchling build backend in rattler-build\n- About section field renames needed:\n  * home → homepage\n  * doc_url → documentation\n  * dev_url → repository\n- New python test element works perfectly for imports + pip check\n- No platform-specific selectors needed for pure Python\n- Hardcoded python_min (3.9) from variant config replaced with literal","created_at":"2025-11-29T16:22:52Z"},{"id":6,"issue_id":"forge-fix-962","author":"zcpowers","text":"**Next Steps** (requires manual action):\n\n1. Fork colorama-feedstock to your GitHub:\n   Visit: https://github.com/conda-forge/colorama-feedstock\n   Click 'Fork' button\n\n2. Add your fork as submodule:\n   ```bash\n   cd packages\n   rm -rf colorama-feedstock\n   git submodule add https://github.com/zcpowers/colorama-feedstock.git colorama-feedstock\n   cd ..\n   git commit -m \"Add colorama-feedstock as submodule\"\n   ```\n\n3. Push the recipe-v1 branch to your fork:\n   ```bash\n   cd packages/colorama-feedstock\n   git remote add origin https://github.com/zcpowers/colorama-feedstock.git\n   git push origin recipe-v1\n   ```\n\n4. Create PR to upstream if ready","created_at":"2025-11-29T16:23:51Z"},{"id":7,"issue_id":"forge-fix-962","author":"zcpowers","text":"✅ COMPLETE - Pushed to fork\n\nBranch: https://github.com/zachcp/colorama-feedstock/tree/recipe-v1\n\nReady to create PR to upstream:\nhttps://github.com/conda-forge/colorama-feedstock/compare/main...zachcp:colorama-feedstock:recipe-v1","created_at":"2025-11-29T16:27:15Z"},{"id":9,"issue_id":"forge-fix-962","author":"zcpowers","text":"⚠️ Updated: Bumped build number to 2\n\nSince version (0.4.6) is unchanged but we're adding recipe.yaml format, build number must be incremented from 1 → 2.\n\nThis is a conda-forge requirement and ensures the new package build is distinguishable from the old one.\n\nUpdated branch pushed to fork.","created_at":"2025-11-29T16:31:36Z"},{"id":11,"issue_id":"forge-fix-962","author":"zcpowers","text":"✅ Updated: Removed meta.yaml\n\nrecipe.yaml is a COMPLETE REPLACEMENT for meta.yaml, not a supplement.\nBoth formats should not coexist in the feedstock.\n\nChanges pushed to fork.","created_at":"2025-11-29T16:34:25Z"}]}
{"id":"forge-fix-9b6","title":"Migrate dash-bio to recipe v1","description":"Convert dash-bio feedstock from meta.yaml to recipe.yaml.\nPackage type: Python noarch\nPriority: MEDIUM - Good example of dependencies and linting fixes\nFeedstock: https://github.com/conda-forge/dash-bio-feedstock\nPR: https://github.com/conda-forge/dash-bio-feedstock/pull/8","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T12:23:27.52031-05:00","updated_at":"2025-11-29T12:23:39.136606-05:00","closed_at":"2025-11-29T12:23:39.136609-05:00","labels":["migration","noarch","python","success"],"comments":[{"id":13,"issue_id":"forge-fix-9b6","author":"zcpowers","text":"✓ Forked and added as submodule\n✓ Created recipe.yaml with new format\n✓ Configured conda-forge.yml for rattler-build\n✓ Build successful with rattler-build\n✓ Tests passed (imports + pip check)\n✓ Fixed linting issues:\n  - Added setuptools to host section\n  - Added python_min context variable\n  - Changed pypi.io to pypi.org\n  - Added python_version to tests\n✓ Re-rendered with conda-smithy\n✓ Pushed to recipe-v1 branch\n✓ PR created: https://github.com/conda-forge/dash-bio-feedstock/pull/8","created_at":"2025-11-29T17:23:33Z"}]}
{"id":"forge-fix-cw3","title":"Migrate addict to recipe v1","description":"Convert addict feedstock from meta.yaml to recipe.yaml.\nFeedstock: https://github.com/conda-forge/addict-feedstock\nStatus: Not started","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T12:23:47.563959-05:00","updated_at":"2025-11-29T12:30:43.13804-05:00","closed_at":"2025-11-29T12:30:43.138043-05:00","labels":["migration","noarch","python","success"],"comments":[{"id":15,"issue_id":"forge-fix-cw3","author":"zcpowers","text":"Starting addict migration - pure Python noarch, minimal dependencies","created_at":"2025-11-29T17:29:13Z"},{"id":16,"issue_id":"forge-fix-cw3","author":"zcpowers","text":"✅ Recipe migration complete!\n\nBuild: ✅ Successful with rattler-build\n  - Package: addict-2.4.0-pyh4616a5c_4.conda (9.24 KiB)\n  - Tests: ✅ All passed (imports + pip check)\n\nCommits:\n  - ✅ recipe.yaml created with schema_version: 1\n  - ✅ conda-forge.yml configured with conda_build_tool: rattler-build\n  - ✅ Build number bumped (3 → 4)\n  - ✅ meta.yaml removed\n  - ✅ Feedstock re-rendered\n\nFork: https://github.com/zachcp/addict-feedstock\nBranch: https://github.com/zachcp/addict-feedstock/tree/recipe-v1\nPR: https://github.com/conda-forge/addict-feedstock/pull/27","created_at":"2025-11-29T17:30:41Z"}]}
{"id":"forge-fix-ecs","title":"Pattern: Build number must be bumped when adding recipe.yaml","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T11:31:47.437462-05:00","updated_at":"2025-11-29T11:31:59.032626-05:00","closed_at":"2025-11-29T11:31:59.032633-05:00","labels":["build-number","documented","important","pattern"],"comments":[{"id":10,"issue_id":"forge-fix-ecs","author":"zcpowers","text":"**Critical Pattern**: When adding recipe.yaml to existing feedstock, MUST bump build number.\n\n**Why:**\n- Adding recipe.yaml changes the feedstock but not the source package\n- conda-forge requires build number bump when version unchanged\n- Creates distinguishable package builds\n\n**Rule:**\n```yaml\n# meta.yaml has:\nbuild:\n  number: N\n\n# recipe.yaml must have:\nbuild:\n  number: N+1\n```\n\n**Example (colorama):**\n- meta.yaml: `number: 1`\n- recipe.yaml: `number: 2`\n- Result: `colorama-0.4.6-pyh4616a5c_2.conda`\n\n**Always check:**\n```bash\ngrep 'number:' recipe/meta.yaml  # Check current\n# Then increment in recipe.yaml\n```\n\n**Affects:** ALL package migrations\n\n**Documented in:** AGENTS.md Build Number Guidelines section","created_at":"2025-11-29T16:31:54Z"}]}
{"id":"forge-fix-ehy","title":"Migrate acgc to recipe v1","description":"Convert acgc feedstock from meta.yaml to recipe.yaml.\nFeedstock: https://github.com/conda-forge/acgc-feedstock\nStatus: Not started","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T12:23:43.921818-05:00","updated_at":"2025-11-29T12:34:01.731806-05:00","closed_at":"2025-11-29T12:34:01.731809-05:00","labels":["migration","noarch","python","success"],"comments":[{"id":19,"issue_id":"forge-fix-ehy","author":"zcpowers","text":"Starting acgc migration - Python noarch with scientific dependencies","created_at":"2025-11-29T17:32:55Z"},{"id":20,"issue_id":"forge-fix-ehy","author":"zcpowers","text":"✅ Recipe migration complete!\n\nBuild: ✅ Successful with rattler-build\n  - Package: acgc-0.3.1-pyh4616a5c_2.conda (2.46 MiB)\n  - All scientific dependencies resolved correctly\n\nCommits:\n  - ✅ recipe.yaml created with schema_version: 1\n  - ✅ conda-forge.yml configured with conda_build_tool: rattler-build\n  - ✅ Build number bumped (1 → 2)\n  - ✅ meta.yaml removed\n  - ✅ Feedstock re-rendered\n\nFork: https://github.com/zachcp/acgc-feedstock\nBranch: https://github.com/zachcp/acgc-feedstock/tree/recipe-v1\nPR: https://github.com/conda-forge/acgc-feedstock/pull/16","created_at":"2025-11-29T17:33:59Z"}]}
{"id":"forge-fix-kwd","title":"Setup: GitHub CLI for feedstock forking","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T11:28:23.50635-05:00","updated_at":"2025-11-29T11:28:32.874335-05:00","closed_at":"2025-11-29T11:28:32.87436-05:00","labels":["complete","documentation","setup"],"comments":[{"id":8,"issue_id":"forge-fix-kwd","author":"zcpowers","text":"GitHub CLI (gh) is required for automated feedstock forking.\n\n**Installation:**\n```bash\nbrew install gh\n```\n\n**Authentication:**\n```bash\ngh auth login\n# Follow prompts to authenticate with GitHub\n```\n\n**Usage for forking feedstocks:**\n```bash\ngh repo fork conda-forge/package-feedstock --clone=false\n# Returns: https://github.com/YOUR_USERNAME/package-feedstock\n```\n\nThis workflow is now documented in AGENTS.md and used for all package migrations.","created_at":"2025-11-29T16:28:29Z"}]}
{"id":"forge-fix-quw","title":"Solution: Pure Python noarch package template","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-29T11:23:07.337378-05:00","updated_at":"2025-11-29T11:23:07.337378-05:00","labels":["python","solution","template"],"comments":[{"id":5,"issue_id":"forge-fix-quw","author":"zcpowers","text":"Template for converting simple pure Python noarch packages from meta.yaml to recipe.yaml.\n\nBased on successful colorama migration (forge-fix-962).\n\n**Conversion steps:**\n1. Add `schema_version: 1`\n2. Create context section with name and version\n3. Change template syntax: `{{ }}` → `${{ }}`\n4. Convert test section to new tests format with python element\n5. Update about section field names:\n   - `home` → `homepage`\n   - `doc_url` → `documentation`\n   - `dev_url` → `repository`\n6. Replace variant config variables with literals (e.g., python_min → \u003e=3.9)\n\n**Verified packages:**\n- colorama v0.4.6\n\n**Applies to:**\n- Pure Python packages\n- noarch: python\n- No entry points\n- Simple dependency structure\n- hatchling, setuptools, or flit build backends","created_at":"2025-11-29T16:23:15Z"}]}
{"id":"forge-fix-rjk","title":"Pattern: Remove meta.yaml after recipe.yaml is complete","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T11:34:58.479043-05:00","updated_at":"2025-11-29T11:35:10.395919-05:00","closed_at":"2025-11-29T11:35:10.395947-05:00","labels":["critical","documented","important","pattern"],"comments":[{"id":12,"issue_id":"forge-fix-rjk","author":"zcpowers","text":"**Critical Pattern**: recipe.yaml is a COMPLETE REPLACEMENT for meta.yaml, not a supplement.\n\n**Rule:** After recipe.yaml is tested and working, REMOVE meta.yaml.\n\n**Why:**\n- Both formats should NOT coexist in the same feedstock\n- recipe.yaml replaces meta.yaml entirely (CEP 13/14)\n- Keeping both creates confusion and maintenance burden\n- conda-forge expects one format per feedstock\n\n**Workflow:**\n```bash\n# After testing recipe.yaml successfully\ncd packages/\u003cpackage\u003e-feedstock\ngit rm recipe/meta.yaml\ngit commit -m \"Remove meta.yaml (replaced by recipe.yaml)\"\n```\n\n**Commit message should mention:**\n- Convert to recipe.yaml\n- Remove meta.yaml (complete replacement)\n\n**Applied to:**\n- colorama (forge-fix-962)\n\n**Documented in:** AGENTS.md Build Number Guidelines section","created_at":"2025-11-29T16:35:06Z"}]}
{"id":"forge-fix-t2i","title":"Pattern: Common linting issues and fixes","description":"Common linting issues when migrating to recipe.yaml and how to fix them.\n\nAffects: All Python packages\n\nCommon issues:\n1. Python version pinning - Use python_min pattern\n2. Missing build backend - Add setuptools/hatchling/etc\n3. PyPI URL - Use pypi.org not pypi.io\n\nSee AGENTS.md 'Linting and Quality Checks' section for details.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T12:23:57.681723-05:00","updated_at":"2025-11-29T12:24:08.067355-05:00","closed_at":"2025-11-29T12:24:08.067366-05:00","labels":["documentation","linting","pattern"],"comments":[{"id":14,"issue_id":"forge-fix-t2i","author":"zcpowers","text":"SOLUTION: Run conda-smithy lint before committing\n\n```bash\nconda-smithy lint recipe\n```\n\nFix 1: Python version pinning\n```yaml\ncontext:\n  python_min: \"3.9\"\nrequirements:\n  host:\n    - python ${{ python_min }}.*\n  run:\n    - python \u003e=${{ python_min }}\ntests:\n  - python:\n      python_version: ${{ python_min }}.*\n```\n\nFix 2: Add build backend\n```yaml\nrequirements:\n  host:\n    - pip\n    - python\n    - setuptools  # or hatchling, flit-core, poetry-core\n```\n\nFix 3: Update PyPI URL\n```yaml\nsource:\n  url: https://pypi.org/packages/...  # Not pypi.io\n```\n\nVerified on: colorama, dash-bio","created_at":"2025-11-29T17:24:05Z"}]}
{"id":"forge-fix-tse","title":"Migrate asdf to recipe v1","description":"Convert asdf feedstock from meta.yaml to recipe.yaml.\nFeedstock: https://github.com/conda-forge/asdf-feedstock\nStatus: Not started","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T12:23:51.708324-05:00","updated_at":"2025-11-29T12:32:52.889506-05:00","closed_at":"2025-11-29T12:32:52.88951-05:00","labels":["migration","noarch","python","success"],"comments":[{"id":17,"issue_id":"forge-fix-tse","author":"zcpowers","text":"Starting asdf migration - Python noarch with entry points, scientific dependencies","created_at":"2025-11-29T17:30:45Z"},{"id":18,"issue_id":"forge-fix-tse","author":"zcpowers","text":"✅ Recipe migration complete!\n\nBuild: ✅ Successful with rattler-build\n  - Package: asdf-5.1.0-pyh4616a5c_1.conda (496.90 KiB)\n  - Entry point: asdftool created via pip install\n\nCommits:\n  - ✅ recipe.yaml created with schema_version: 1, entry points handled by pip\n  - ✅ conda-forge.yml configured with conda_build_tool: rattler-build\n  - ✅ Build number bumped (0 → 1)\n  - ✅ meta.yaml removed\n  - ✅ Feedstock re-rendered\n\nFork: https://github.com/zachcp/asdf-feedstock\nBranch: https://github.com/zachcp/asdf-feedstock/tree/recipe-v1\nPR: https://github.com/conda-forge/asdf-feedstock/pull/85","created_at":"2025-11-29T17:32:51Z"}]}
